#!/usr/bin/env php
<?php

require __DIR__.'/../vendor/autoload.php';

use Jose\Component\Console\Command;
use Symfony\Component\Console\Application;
use Jose\Component\Core\Converter\StandardJsonConverter;

$application = new Application('Jose', '@package_version@');
$application->add(new Command\OctKeyGeneratorCommand(new StandardJsonConverter()));
$application->add(new Command\RsaKeyGeneratorCommand(new StandardJsonConverter()));
$application->add(new Command\EcKeyGeneratorCommand(new StandardJsonConverter()));
$application->add(new Command\OkpKeyGeneratorCommand(new StandardJsonConverter()));
$application->add(new Command\KeyFileLoaderCommand(new StandardJsonConverter()));
$application->add(new Command\P12CertificateLoaderCommand(new StandardJsonConverter()));
$application->add(new Command\X509CertificateLoaderCommand(new StandardJsonConverter()));

$application->add(new Command\EcKeysetGeneratorCommand(new StandardJsonConverter()));
$application->add(new Command\OkpKeysetGeneratorCommand(new StandardJsonConverter()));
$application->add(new Command\OctKeysetGeneratorCommand(new StandardJsonConverter()));
$application->add(new Command\RsaKeysetGeneratorCommand(new StandardJsonConverter()));

$application->add(new Command\OptimizeRsaKeyCommand(new StandardJsonConverter()));

$application->add(new Command\UpdateCommand());
$application->add(new Command\RollbackCommand());

$application->run();
